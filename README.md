# E-commerce Product Analysis using SQL and Python

## ðŸ“Š Project Overview

This project performs a comprehensive analysis of an e-commerce dataset to uncover insights into sales trends, product performance, customer behavior, and product associations. It leverages SQL for data querying and aggregation from a SQLite database and Python libraries (Pandas, Matplotlib, Seaborn, Plotly, MLxtend) for in-depth analysis and visualization.

The entire workflow, from data acquisition to insight generation, is automated within a single Jupyter Notebook.

---

## ðŸš€ Getting Started

### Prerequisites

* Python 3.8+
* A Kaggle account and API key

### Setup

1.  **Clone the repository:**
    ```bash
    git clone <repository-url>
    cd ecommerce-analysis
    ```

2.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **Set up Kaggle API Key:**
    * Go to your Kaggle account page, find the "API" section, and click "Create New API Token". This will download a `kaggle.json` file.
    * Place the `kaggle.json` file in the required location.
        * **Linux/macOS**: `~/.kaggle/kaggle.json`
        * **Windows**: `C:\Users\<Your-Username>\.kaggle\kaggle.json`
    * Alternatively, you can place it in the project's root directory. The notebook will handle it.

4.  **Run the Jupyter Notebook:**
    * Navigate to the `notebooks/` directory.
    * Launch Jupyter Notebook:
        ```bash
        jupyter notebook analysis.ipynb
        ```
    * Run all cells in the notebook. The script will automatically download the dataset, create the database, perform the analysis, and save the visualizations in the `images/` directory.

---

## ðŸ“¦ Dataset

This project uses the **Olist E-commerce Dataset** from Kaggle. It contains information on 100k orders from 2016 to 2018 made at multiple marketplaces in Brazil. The dataset is relational and includes the following key tables:

* `olist_orders_dataset`: Contains order-level information like `order_id` and `customer_id`.
* `olist_order_items_dataset`: Contains item-level information for each order.
* `olist_products_dataset`: Contains product information like `product_id` and `product_category_name`.
* `olist_customers_dataset`: Contains customer information.
* `product_category_name_translation`: Translates category names from Portuguese to English.

The notebook automatically handles the downloading and loading of this data into a local SQLite database.

---

## ðŸ” Analysis Workflow

The analysis is conducted in two main phases:

### 1. SQL-based Data Aggregation

We use structured SQL queries to perform initial data aggregation and extraction. These queries are stored in the `sql/` directory and are executed from the Python environment.

* **`sales_trends.sql`**: Aggregates sales revenue by month to identify temporal patterns.
* **`revenue_by_category.sql`**: Calculates the total revenue generated by each product category.
* **`top_products.sql`**: Identifies the top-selling products based on the number of units sold.
* **`customer_segmentation.sql`**: Gathers data for RFM (Recency, Frequency, Monetary) analysis for each customer.

### 2. Python-based Analysis & Visualization

The aggregated data from SQL is loaded into Pandas DataFrames for deeper analysis and visualization.

* **Time-Series Analysis**: Visualizing monthly sales trends to spot seasonality and growth.
* **Category Performance**: Identifying high-revenue product categories.
* **Customer Segmentation**: Applying RFM analysis to segment customers into meaningful groups like "Champions," "Loyal," and "At-Risk."
* **Market Basket Analysis**: Using the Apriori algorithm to find product association rules (e.g., customers who buy Product A also tend to buy Product B).

---

## âœ¨ Key Insights & Visualizations

### 1. Monthly Sales Revenue Trend

The revenue trend shows significant growth over the years, with a major peak in November 2017. This peak likely corresponds to Black Friday sales, indicating a strong seasonal impact on performance.

![Monthly Sales Revenue](images/monthly_sales_revenue.png)

### 2. Top 10 Revenue-Generating Product Categories

`Bed Bath Table` is the highest revenue-generating category, followed by `Health Beauty` and `Sports Leisure`. This suggests focusing marketing efforts and inventory management on these key areas.

![Top 10 Product Categories by Revenue](images/top_categories_revenue.png)

### 3. Customer Segmentation (RFM)

RFM analysis reveals the distribution of our customer base. A significant portion of customers are "Hibernating" or "At Risk," highlighting an opportunity for re-engagement campaigns. "Champions" and "Loyal Customers" are our most valuable segments and should be nurtured.

![Customer Segmentation by RFM](images/rfm_customer_segmentation.png)

### 4. Market Basket Analysis - Product Association Rules

The analysis uncovered strong associations between products. For example, customers who buy `Bed Bath Table` products are also likely to purchase items from `Furniture Decor`. These insights are invaluable for cross-selling, product bundling, and recommendation engine strategies.

**Top Association Rule:**
* **Antecedents (If you buy):** `{Computers Accessories}`
* **Consequents (You might also buy):** `{Bed Bath Table}`
* **Lift:** A high lift value (e.g., >1) indicates a strong association. Our analysis identified several pairs with significant lift.

---

## ðŸ’¡ Business Implications

1.  **Marketing & Sales**: Launch targeted marketing campaigns around seasonal peaks like Black Friday. Create personalized offers for different RFM segments, such as loyalty rewards for "Champions" and reactivation discounts for "At-Risk" customers.

2.  **Inventory Management**: Ensure that top-performing categories like `Bed Bath Table` and `Health Beauty` are well-stocked, especially during peak sales months.

3.  **Product Strategy**: Use market basket analysis insights to create product bundles, improve store layout for cross-selling, and refine recommendation algorithms to increase the average order value.

4.  **Customer Relationship Management (CRM)**: Develop strategies to nurture high-value customers and re-engage those who are about to churn. A proactive approach can significantly improve customer lifetime value.